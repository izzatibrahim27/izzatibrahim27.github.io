  <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <link rel="stylesheet" href="css/style.css">

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>OFF-ROAD</title>
    </head>

    <body id='home' class='scrollspy'>

      <!-- navbar  -->
        <div class="navbar-fixed">
          <nav class="black">
            <div class="container">
              <div class="nav-wrapper">
                <a href="#home" class="brand-logo">OFF ROAD</a>
                <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                <ul class="right hide-on-med-and-down">
                  <li><a href="#">Home</a></li>
                  <li><a href="new_pages2.html">How To Join</a></li>
                  <li><a href="new_pages3.html">Jobs</a></li>
                  <li><a href="loginpage.html">Login</a></li>
                  <li><a href="registerpagesso.html">Register</a></li>
                  <li><a href="admin.html">Admin</a></li>
                </ul>
              </div>
            </div>
          </nav>
        </div>

    <!-- sidenav -->
    <ul class="sidenav" id="mobile-demo">
      <li><a href="#">Home</a></li>
      <li><a href="new_pages2.html">How To Join</a></li>
      <li><a href="new_pages3.html">Jobs</a></li>
      <li><a href="loginpage.html">Login</a></li>
      <li><a href="registerpagesso.html">Register</a></li>
      <li><a href="admin.html">Admin</a></li>
    </ul>

    <!-- slider -->
    <div class="slider">
    <ul class="slides">
      <li>
        <img src="image/img2.png">
        <div class="caption left-align">
          <h3>OFF-ROAD</h3>
        </div>
      </li>
    </ul>
  </div>

  <div class="row">
          <div class="row">
            <div class="col s12 m8 offset-m2">
                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content" style="text-align:center;">
                    <h4>Registration Successful</h4>
                    <p>Thank you for registering!</p>
                    </div>
                    <div style="text-align:center; margin-bottom: 15px;">
                    <a href="login.html" class="modal-close waves-effect waves-green btn">Login</a>
                    </div>
                </div>
                <!-- <div class="font-bebas center-align" style="font-size: 40px;"><img src="images/logo.svg" class="vertical-middle" style="margin-right: 10px;" alt="Logo" width="70px">Erudite</div> -->
                <div class="card" style="margin-top: 20px;">
                    <div class="card-content">
                        <p class="font-fira text-nav" style="text-align: center; margin-bottom: 25px; font-size:200%; color:#333533;">Registration Form</p>
                        <form action="afterlogin.html">
                        <div class="input-field">
                            <input value="" id="username" type="text" class="validate" required>
                            <label for="username"  class="text-nav">Username</label>
                        </div>
                        <div style="margin-top: -15px;">
                            <div class="row" style="margin: 0;">
                                <div class="col s7 m9" style="padding: 0; height: 70px;">
                                    <div class="input-field">
                                        <input onkeyup="checkStrengthPwd()" placeholder="Password" id="password" type="password" required>
                                        <label for="password"  class="text-nav">Password</label>
                                        <!-- <span class="password-msg" data-error="wrong" data-success="right"></span> -->
                                    </div>
                                </div>
                                <div class="col s5 m3" style="padding: 0;">
                                    <i onclick="showPwd(1)" id="vis" class="material-icons vertical-middle" style="cursor: pointer; margin-top: 20px;">visibility_off</i>
                                    <span onclick="generatePwd()" class="btn vertical-middle font-hp" style="margin-top: 20px; margin-left: 5px; padding: 0px 8px; background-color: #00bff3; font-family: Bebas Neue;">Generate</span>
                                </div>
                            </div>
                            <span class="password-msg" data-error="wrong" data-success="right"></span>
                        </div>
                        <div class="row" style="margin: 0;">
                            <div class="col s7 m9" style="padding: 0; height: 70px;">
                                <div class="input-field">
                                    <input onkeyup="checkMatchPwd()" placeholder="Repeat Your Password" id="password2" type="password" required>
                                    <label for="password2"  class="text-nav">Repeat Your Password</label>
                                </div>
                            </div>
                            <div class="col s5 m3" style="padding: 0;">
                                <i onclick="showPwd(2)" id="vis2" class="material-icons" style="cursor: pointer; margin-top: 30px;">visibility_off</i>
                            </div>
                        </div>
                        <span class="password2-msg" data-error="wrong" data-success="right"></span>
                        <!-- <div class="input-field">
                            <input value="" id="password2" type="password" class="validate" required>
                            <label for="password2">Confirm Password</label>
                        </div> -->
                        <div class="input-field">
                          <input value="" id="address" type="text" class="validate" required>
                          <label for="address">Address</label>
                      </div>
                      <div style="margin-bottom: -20px;">
                          <div class="row" style="padding: 0;">
                              <div class="col s6">
                                  <div class="input-field" style="margin-bottom: 0px;">
                                      <input onkeyup="checkPhone(1)" placeholder="+628139847255" id="phone" type="text" style="margin-top: 5px;" required>
                                      <label for="phone"  class="text-nav">Handphone Number</label>
                                  </div>
                                  <span class="phone-msg" data-error="wrong" data-success="right"></span>
                              </div>
                              <div class="col s6">
                                  <div class="input-field" style="margin-bottom: 0px;">
                                      <input onkeyup="checkPhone(2)" placeholder="+628139847255" id="phone2" type="text" style="margin-top: 5px;">
                                      <label for="phone2"  class="text-nav">Telephone Number (Optional)</label>
                                  </div>
                                  <span class="phone2-msg" data-error="wrong" data-success="right"></span>
                              </div>
                          </div>
                      </div>
                        <div class="input-field" style="margin-top: 40px;">
                            <input placeholder="Full Name" value="" id="full_name" type="text" class="validate">
                            <label for="full_name"  class="text-nav">Full Name</label>
                        </div>
                        <div class="input-field">
                            <input placeholder="31882137271405587" value="" id="nik" type="number" class="validate" required>
                            <label for="nik"  class="text-nav">NIK</label>
                        </div>
                        <div class="file-field input-field">
                            <div class="btn" style="background-color: #00bff3;">
                              <span  class="text-nav">Upload KTP</span>
                              <input type="file" id="ktp" required>
                            </div>
                            <div class="file-path-wrapper">
                              <input class="file-path validate" type="text" value="Choose a file" required>
                            </div>
                        </div>
                        <div style="margin-top: -10px; margin-bottom: -10px;">
                          <div class="row">
                            <div class="col s6">
                              <form action="#">
                                <p class="font-bebas">join period</p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" checked />
                                    <span>a year</span>
                                  </label>
                                </p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" />
                                    <span>half year</span>
                                  </label>
                                </p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input class="with-gap" name="group1" type="radio"  />
                                    <span>3 months</span>
                                  </label>
                                </p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" />
                                    <span>1 month</span>
                                  </label>
                                </p>
                              </form>
                            </div>
                            <div class="col s6">
                              <form action="#">
                                <p class="font-bebas">member type</p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" />
                                    <span>civilian</span>
                                  </label>
                                </p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" checked />
                                    <span>guild member</span>
                                  </label>
                                </p>
                                <p>
                                  <label class="font-bebas" style="color: black;">
                                    <input name="group1" type="radio" />
                                    <span>Manager</span>
                                  </label>
                                </p>
                                </form>
                            </div>
                          </div>
                      </div>
                        <div class="input-field" style="margin-top: 35px;">
                            <input value="" id="profession" type="text" class="validate" required>
                            <label for="profession">Profession</label>
                        </div>
                        <div class="input-field">
                            <textarea id="skillset" class="materialize-textarea" required></textarea>
                            <label for="skillset">Skillset</label>
                        </div>
                        <div class="input-field">
                            <input id="birthdate" value="" type="text" class="datepicker" required>
                            <label for="birthdate">Birthdate</label>
                        </div>
                        
                        <div style="text-align: center;"><button type="submit" class="button-searchz" onclick="checkInput(event)">Register</button></div>
                        <!-- <div style="text-align: center;"><a data-target="modal1" class="waves-effect waves-light btn modal-trigger">Register</a></div> -->
                        </form>
                    </div>
                </div>
            </div>
        </div>

      <!-- footer -->
      <footer class="page-footer black">
          <div class="container">
            <div class="row">
              <div class="col l6 s12">
                <h5 class="white-text text-darken-3">OFF ROAD</h5>
                <p class="white-text text-darken-3">KPBB Street, Karet Tengsin, Jakarta Pusat 10220</p>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            © 2020 Materialize
            <a class="white-text text-darken-3 right" href="#!">More Links</a>
            </div>
          </div>
        </footer>

      <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="js/materialize.min.js"></script>
      <script>
        const sideNav = document.querySelectorAll('.sidenav');
        M.Sidenav.init(sideNav);

        const slider = document.querySelectorAll('.slider')
        M.Slider.init(slider, {
          indicators: false, 
          height : 300, 
          transition : 300, 
          interval: 5000
        }); 

        const scroll = document.querySelectorAll('.scrollspy');
        M.ScrollSpy.init(scroll ,{
          scrollOffset: 70
        });
         const datepicker= document.querySelectorAll('.datepicker')
      M.Datepicker.init(datepicker)
        const modal= document.querySelectorAll('.modal')
      M.Modal.init(modal)

      document.addEventListener('DOMContentLoaded', function() {
      var elems2 = document.querySelectorAll('.sidenav');
      var instances2 = M.Sidenav.init(elems2, {});

      });
      var name = sessionStorage.getItem("name");
        if (name){
            var fullname = document.querySelector('#full_name');
            fullname.setAttribute('value',name);
        }
      
      function checkStrengthPwd(){
            var pwd = document.querySelector('#password');
            var msg = document.querySelector('.password-msg');
            var regex = /^[A-Za-z0-9]+$/;
            if (pwd.value.length < 6){
                msg.innerHTML = '<span style="color: red;">Password is too short!</span>';
                pwd.classList.remove("valid");
                pwd.classList.add("invalid");
            } else if (pwd.value === pwd.value.toLowerCase() || pwd.value.match(regex)) {
                msg.innerHTML = '<span style="color: red;">Password should contain at least 1 upper case alphabet, numeric, and special character.</span>';
                pwd.classList.remove("valid");
                pwd.classList.add("invalid");
            } else {
                checkMatchPwd();
                msg.innerHTML = '';
                pwd.classList.remove("invalid");
                pwd.classList.add("valid");
            }
      }

      function checkMatchPwd(){
            var pwd = document.querySelector('#password');
            var pwd2 = document.querySelector('#password2');
            var msg = document.querySelector('.password2-msg');
            if (pwd.value != pwd2.value){
                msg.innerHTML = '<span style="color: red;">Password not match!</span>';
                pwd2.classList.remove("valid");
                pwd2.classList.add("invalid");
            } else {
                msg.innerHTML = '';
                pwd2.classList.remove("invalid");
                pwd2.classList.add("valid");
            }
      }

      function generatePassword() {
            var length = 10,
                charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+{}:,./'<>?",
                retVal = "";
            for (var i = 0, n = charset.length; i < length; ++i) {
                retVal += charset.charAt(Math.floor(Math.random() * n));
            }
            return retVal;
      }

      function showPwd(n){
            if (n == 1){
                var pwd = document.querySelector('#password');
                var vis = document.querySelector('#vis');
            } else if (n == 2){
                var pwd = document.querySelector('#password2');
                var vis = document.querySelector('#vis2');
            }
            pwd.setAttribute('type', 'text');
            vis.textContent = 'visibility';
            vis.setAttribute('onclick', 'hidePwd('+n+')');
      }

      function hidePwd(n){
            if (n == 1){
                var pwd = document.querySelector('#password');
                var vis = document.querySelector('#vis');
            } else if (n == 2){
                var pwd = document.querySelector('#password2');
                var vis = document.querySelector('#vis2');
            }
            pwd.setAttribute('type', 'password');
            vis.textContent = 'visibility_off';
            vis.setAttribute('onclick', 'showPwd('+n+')');
      }
    
      function generatePwd(){
            var pwd = document.querySelector('#password');
            pwd.value = " ";
            pwd.value = generatePassword();
            showPwd(1);
      }
      function checkPhone(n){
            if (n == 1){
                var selectphone = document.querySelector('#phone')
                var phone = selectphone.value;
                var msg = document.querySelector('.phone-msg');
            } else if (n == 2){
                var selectphone = document.querySelector('#phone2')
                var phone = selectphone.value;
                var msg = document.querySelector('.phone2-msg');
            }
            if (phone.match(/^\+[1-9]{1}[0-9]{3,14}$/)){
                msg.innerHTML = '';
                selectphone.classList.remove("invalid");
                selectphone.classList.add("valid");
            } else {
                msg.innerHTML = '<span style="color: red;">Phone number should contain country and area code.</span>';
                selectphone.classList.remove("valid");
                selectphone.classList.add("invalid");
            }
        }

      function checkInput(event){
            var input = document.querySelectorAll("input");
            var error = false;
            input.forEach(function(item, index, list){
                if (item.classList.contains("invalid") || item.value == ""){
                    if (item.id != "phone2"){
                        error = true;
                    }
                }
            });
            if(error){
                event.preventDefault();
                alert("Registration error. Make sure your information is valid!");
                
            } else {
                var datauname = document.querySelector("#username").value;
                var dataname = document.querySelector("#full_name").value;
                var datanik = document.querySelector("#nik").value;
                var dataaddress = document.querySelector("#address").value;
                var selecttype = document.querySelector("#member-type");
                var datatype = selecttype.options[selecttype.selectedIndex].value;
                var dataphone = document.querySelector("#phone").value;

                sessionStorage.setItem("username", datauname);
                sessionStorage.setItem("full-name", dataname);
                sessionStorage.setItem("nik", datanik);
                sessionStorage.setItem("address", dataaddress);
                sessionStorage.setItem("type-member", datatype);
                sessionStorage.setItem("handphone", dataphone);

                window.location.href = "afterlogin.html";
            }
      }
        
      </script>
    </body>
  </html>